### Variables
@host = http://localhost:7071
# For PROD, uncomment the next line and comment the local host above
# @host = https://func-api-sevepnpyddayk.azurewebsites.net

@user_id = user123
@ask_job_id = 

### Ask Start Job 1 - Simple test (should work)
# @name ask_start_simple
POST {{host}}/api/ask/start
Content-Type: application/json

{
  "prompt": "Say hello in one sentence",
  "model": "gpt-4.1-mini",
  "user_id": "{{user_id}}",
  "conversation_id": "init",
  "reasoning_effort": "low"
}

### Ask Start Job 2 - Simple test (should work)
# @name ask_start_simple_resume
POST {{host}}/api/ask/start
Content-Type: application/json

{
  "prompt": "Write a Python function to calculate fibonacci numbers",
  "model": "gpt-4.1-mini",
  "user_id": "{{user_id}}",
  "conversation_id": "{{ask_start_simple.response.body.conversation_id}}",
  "reasoning_effort": "low"
}

### Ask Start Job 2 - Specific model
# @name ask_start_specific
POST {{host}}/api/ask/start
Content-Type: application/json

{
  "prompt": "Write a Python function to calculate fibonacci numbers",
  "model": "gpt-4.1-mini",
  "user_id": "{{user_id}}",
  "conversation_id": "init",
  "reasoning_effort": "low"
}

### Ask Start Job 3 - Reasoning model
# @name ask_start_reasoning
POST {{host}}/api/ask/start
Content-Type: application/json

{
  "prompt": "Compare the performance characteristics of different sorting algorithms in detail",
  "model": "gpt-5-mini", 
  "user_id": "{{user_id}}",
  "conversation_id": "init",
  "reasoning_effort": "high"
}

### Ask start Job 4 Use tool
# @name ask_start_tool
POST {{host}}/api/ask/start
Content-Type: application/json

{
  "prompt": "List my images in storage.",
  "model": "gpt-5-mini", 
  "user_id": "{{user_id}}",
  "conversation_id": "init",
  "allowed_tools": ["list_images"]
}

### Ask Status - Manual job ID
# @name ask_status
GET {{host}}/api/ask/status?job_id={{ask_job_id}}
Accept: application/json

### Ask Status - Auto job ID from simple test
# @name ask_status_simple
GET {{host}}/api/ask/status?job_id={{ask_start_simple.response.body.job_id}}
Accept: application/json

### Ask Status - Auto job ID from specific test
# @name ask_status_specific
GET {{host}}/api/ask/status?job_id={{ask_start_specific.response.body.job_id}}
Accept: application/json

### Ask Status - Reasoning model
# @name ask_status_reasoning
GET {{host}}/api/ask/status?job_id={{ask_start_reasoning.response.body.job_id}}
Accept: application/json

### Ask Status - Tool use
# @name ask_status_simple_resume
GET {{host}}/api/ask/status?job_id={{ask_start_simple_resume.response.body.job_id}}
Accept: application/json

### Ask Status - Tool use
# @name ask_status_tool
GET {{host}}/api/ask/status?job_id={{ask_start_tool.response.body.job_id}}
Accept: application/json
